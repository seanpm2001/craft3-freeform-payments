"use strict";!function(){var e=window.ffStripeValues,r=e.zeroDecimalCurrencies,t=e.id,a=e.formAnchor,o=e.currencySelector,n=e.currencyFixed,c=e.usage,i=e.amountSelector,d=e.amountFixed,u=e.submitName,l=e.publicKey,s=document.getElementById(a).parentElement,m=!1,v=void 0,p=void 0,f=void 0,y=void 0,E=void 0,g=function(e){return void 0===window.renderErrors?void alert(e):(void 0!==window.removeMessages&&removeMessages(s),void renderFormErrors([e],s))},S=function(e){if(m)return!1;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation();var a=void 0;if(i){var l=s.querySelector(i);a=l?l.value:d}else a=d;var p=void 0;if(o){var y=s.querySelector(o);p=y?y.value:n}else p=n;var E={type:"card",amount:a,currency:p,usage:c};if(E.amount){var S=r.indexOf(E.currency)>=0?1:100;E.amount=a*S}return v.createSource(f,E).then(function(e){if(e.error)return console.log(e.error),g(e.error.message+(e.error.param?" - "+e.error.param:"")),s.querySelector("[name="+u+"]").disabled=!1,!1;document.getElementById(t).value=e.source.id,m=!0;var r=new Event("submit",{cancelable:!0});r.canProceed=!0,s.dispatchEvent(r)&&s.submit()}),!1},b=function(){f&&f.clear(),E&&E.clear(),y&&y.clear()};s.dataset.hasPayments=!0,s.addEventListener("reset",b,!1),s.addEventListener("submit",S,!1);var h=function(){var e=t+"_card_number",r=t+"_card_cvc",a=t+"_card_expiry",o=document.getElementById(e),n=document.getElementById(r),c=document.getElementById(a),i=o.attributes.placeholder,d=c.attributes.placeholder,u=n.attributes.placeholder;v=Stripe(l),p=v.elements(),f=p.create("cardNumber",{placeholder:i?i.value:""}),y=p.create("cardExpiry",{placeholder:d?d.value:""}),E=p.create("cardCvc",{placeholder:u?u.value:""}),f.mount("#"+e),y.mount("#"+a),E.mount("#"+r),f.on("change",function(){m=!1})};if(window.ffStripeScript)window.ffStripeScript.addEventListener("load",h);else{var w=document.createElement("script");document.body.appendChild(w),w.addEventListener("load",h),w.src="https://js.stripe.com/v3/",window.ffStripeScript=w}}();