"use strict";!function(){var e=window.ffStripeValues,r=e.zeroDecimalCurrencies,t=e.id,a=e.formAnchor,n=e.currency,o=e.usage,c=e.amount,d=e.submitName,i=e.publicKey,u=document.getElementById(a).parentElement,s=!1,m=void 0,l=void 0,p=void 0,v=void 0,f=void 0,E=function(e){return void 0===window.renderErrors?void alert(e):(void 0!==window.removeMessages&&removeMessages(u),void renderFormErrors([e],u))},g=function(e){if(s)return!1;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation();var a={type:"card",currency:n,usage:o};if(a.amount){var i=r.indexOf(a.currency)>=0?1:100;a.amount=c*i}return m.createSource(p,a).then(function(e){if(e.error)return console.log(e.error),E(e.error.message+(e.error.param?" - "+e.error.param:"")),u.querySelector("[name="+d+"]").disabled=!1,!1;document.getElementById(t).value=e.source.id,s=!0;var r=new Event("submit",{cancelable:!0});r.canProceed=!0,u.dispatchEvent(r)&&u.submit()}),!1},y=function(){p&&p.clear(),f&&f.clear(),v&&v.clear()};u.dataset.hasPayments=!0,u.addEventListener("reset",y,!1),u.addEventListener("submit",g,!1);var b=function(){var e=t+"_card_number",r=t+"_card_cvc",a=t+"_card_expiry",n=document.getElementById(e),o=document.getElementById(r),c=document.getElementById(a),d=n.attributes.placeholder,u=c.attributes.placeholder,E=o.attributes.placeholder;m=Stripe(i),l=m.elements(),p=l.create("cardNumber",{placeholder:d?d.value:""}),v=l.create("cardExpiry",{placeholder:u?u.value:""}),f=l.create("cardCvc",{placeholder:E?E.value:""}),p.mount("#"+e),v.mount("#"+a),f.mount("#"+r),p.on("change",function(){s=!1})};if(window.ffStripeScript)window.ffStripeScript.addEventListener("load",b);else{var h=document.createElement("script");document.body.appendChild(h),h.addEventListener("load",b),h.src="https://js.stripe.com/v3/",window.ffStripeScript=h}}();